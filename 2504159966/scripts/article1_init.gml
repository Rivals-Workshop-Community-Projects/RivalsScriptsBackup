fast_graphics = get_local_setting(SET_FX_QUALITY) <= 1
if (fast_graphics) {
	sprite_index = sprite_get("ground_fast")
	sprite_change_offset("ground_fast", 288, 52)
	parallax_x = 0
	parallax_y = 0
	exit
}
//Rivals of Aether 3D model converter by VMan_2002
sprite_index = asset_get("empty_sprite")
vtx = [
	[64.0,-40.0,0.125],
	[-64.0,-40.0,0.125],
	[64.0,96.0,0.125],
	[-64.0,96.0,0.125],
	[272.0,8.0,0.125],
	[144.0,8.0,0.125],
	[272.0,96.0,0.125],
	[144.0,96.0,0.125],
	[-144.0,8.0,0.125],
	[-272.0,8.0,0.125],
	[-144.0,96.0,0.125],
	[-272.0,96.0,0.125],
	[-144.0,0.0,0.1875],
	[-272.0,0.0,0.1875],
	[-144.0,0.0,-0.125],
	[-272.0,0.0,-0.125],
	[272.0,0.0,0.1875],
	[144.0,0.0,0.1875],
	[272.0,0.0,-0.125],
	[144.0,0.0,-0.125],
	[-144.0,8.0,0.1875],
	[-272.0,8.0,0.1875],
	[-144.0,8.0,-0.125],
	[-272.0,8.0,-0.125],
	[272.0,8.0,0.1875],
	[144.0,8.0,0.1875],
	[272.0,8.0,-0.125],
	[144.0,8.0,-0.125],
	[56.0,-40.0,0.1875],
	[56.0,-40.0,0.125],
	[56.0,96.0,0.1875],
	[56.0,96.0,0.125],
	[-56.0,-40.0,0.1875],
	[-56.0,-40.0,0.125],
	[-56.0,96.0,0.1875],
	[-56.0,96.0,0.125],
	[-64.0,-40.0,0.1875],
	[-64.0,96.0,0.1875],
	[64.0,-40.0,0.1875],
	[64.0,96.0,0.1875],
	[64.0,-40.0,0.1875],
	[-64.0,-40.0,0.1875],
	[64.0,-40.0,-0.125],
	[-64.0,-40.0,-0.125],
	[64.0,-48.0,0.1875],
	[-64.0,-48.0,0.1875],
	[64.0,-48.0,-0.125],
	[-64.0,-48.0,-0.125],
	[-176.0,96.0,-0.25],
	[-288.0,96.0,-0.25],
	[-176.0,448.0,-0.25],
	[-288.0,448.0,-0.25],
	[288.0,96.0,-0.25],
	[176.0,96.0,-0.25],
	[288.0,448.0,-0.25],
	[176.0,448.0,-0.25],
	[288.0,96.0,0.25],
	[-288.0,96.0,0.25],
	[288.0,96.0,-0.25],
	[-288.0,96.0,-0.25],
	[144.0,8.0,0.1875],
	[144.0,96.0,0.1875],
	[-144.0,8.0,0.1875],
	[-144.0,96.0,0.1875],
	[152.0,8.0,0.1875],
	[152.0,8.0,0.125],
	[152.0,96.0,0.1875],
	[152.0,96.0,0.125],
	[-152.0,8.0,0.1875],
	[-152.0,8.0,0.125],
	[-152.0,96.0,0.1875],
	[-152.0,96.0,0.125],
	[264.0,8.0,0.1875],
	[264.0,8.0,0.125],
	[264.0,96.0,0.1875],
	[264.0,96.0,0.125],
	[-264.0,8.0,0.1875],
	[-264.0,8.0,0.125],
	[-264.0,96.0,0.1875],
	[-264.0,96.0,0.125],
	[272.0,8.0,0.1875],
	[272.0,96.0,0.1875],
	[-272.0,8.0,0.1875],
	[-272.0,96.0,0.1875],
	[176.0,96.0,-0.25],
	[-176.0,96.0,-0.25],
	[176.0,96.0,-1.0],
	[-176.0,96.0,-1.0],
	[80.0,96.0,-1.0],
	[80.0,448.0,-1.0],
	[-80.0,96.0,-1.0],
	[-80.0,448.0,-1.0],
	[-288.0,448.0,0.25],
	[288.0,448.0,0.25],
]
var textures = [
	sprite_get("plat_back_2"), //0
	sprite_get("plat_back_1"), //1
	sprite_get("plat_top_1"), //2
	sprite_get("plat_pillar_2"), //3
	sprite_get("plat_front_1"), //4
	sprite_get("plat_side"), //5
	sprite_get("ground_front"), //6
	sprite_get("ground_top"), //7
	sprite_get("plat_pillar_1"), //8
	sprite_get("ground_bevel_top"), //9
	sprite_get("ground_bevel_diagonal"), //10
	sprite_get("ground_side"), //11
	sprite_get("ground_bevel_front"), //12
]
faces = [
	face(56, 57, 58, 59, textures[7], 0, 2, 0, 0),
	face(60, 5, 61, 7, textures[8], 0, 1, 2, 0),
	face(62, 8, 63, 10, textures[8], 1, 0, 2, 0),
	face(64, 65, 66, 67, textures[8], 1, 0, 2, 0),
	face(68, 69, 70, 71, textures[8], 1, 1, 2, 0),
	face(72, 73, 74, 75, textures[8], 1, 1, 2, 0),
	face(76, 77, 78, 79, textures[8], 1, 0, 2, 0),
	face(80, 4, 81, 6, textures[8], 1, 0, 2, 0),
	face(82, 9, 83, 11, textures[8], 0, 1, 2, 0),
	face(4, 5, 6, 7, textures[1], 0, 2, 2, 1),
	face(8, 9, 10, 11, textures[1], 0, 2, 2, 1),
	face(28, 29, 30, 31, textures[3], 1, 1, 2, 0),
	face(32, 33, 34, 35, textures[3], 1, 0, 2, 0),
	face(36, 1, 37, 3, textures[3], 0, 1, 2, 0),
	face(38, 0, 39, 2, textures[3], 1, 0, 2, 0),
	face(0, 1, 2, 3, textures[0], 0, 2, 2, 1),
	face(12, 13, 14, 15, textures[2], 0, 2, 0, 0),
	face(16, 17, 18, 19, textures[2], 0, 2, 0, 0),
	face(20, 21, 22, 23, textures[2], 1, 2, 1, 0),
	face(24, 25, 26, 27, textures[2], 1, 2, 1, 0),
	face(40, 41, 42, 43, textures[2], 1, 2, 1, 0),
	face(44, 45, 46, 47, textures[2], 0, 2, 0, 0),
	face(46, 47, 42, 43, textures[4], 0, 2, 2, 1),
	face(14, 15, 22, 23, textures[4], 0, 2, 2, 1),
	face(18, 19, 26, 27, textures[4], 0, 2, 2, 1),
	face(45, 47, 41, 43, textures[5], 0, 1, 2, 0),
	face(44, 46, 40, 42, textures[5], 1, 0, 2, 0),
	face(48, 49, 50, 51, textures[6], 0, 2, 2, 1),
	face(52, 53, 54, 55, textures[6], 1, 2, 2, 1),
	face(17, 19, 25, 27, textures[5], 0, 1, 2, 0),
	face(12, 14, 20, 22, textures[5], 1, 0, 2, 0),
	face(84, 85, 86, 87, textures[9], 0, 2, 0, 0),
	face(13, 15, 21, 23, textures[5], 0, 1, 2, 0),
	face(16, 18, 24, 26, textures[5], 1, 0, 2, 0),
	face(53, 88, 55, 89, textures[10], 1, 2, 2, 0),
	face(90, 48, 91, 50, textures[10], 0, 2, 2, 0),
	face(57, 49, 92, 51, textures[11], 0, 1, 2, 0),
	face(56, 52, 93, 54, textures[11], 1, 0, 2, 0),
	face(88, 90, 89, 91, textures[12], 0, 2, 2, 1),
]
facecount = 39
last_tx = 0
last_ty = 0
var ac = 0
repeat(array_length_1d(vtx)) {
	vtxs_calc[ac] = array_create(2)
	vtx[ac++][@3] = 0
}

/* plat_ym = get_marker_y(2)
plat_yt = get_marker_y(3)
plat_yg = get_marker_y(1)
plat_xl = get_marker_x(2)
plat_xr = get_marker_x(3) */

#define face(a, b, c, d, e, f, g, h, i)
return {a: b, b: a, c: c, d: d, spr: e, sub: f, xa: g, ya: h, m: !i}